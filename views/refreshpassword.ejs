<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<link rel="icon" href="/img/icons/logo.svg">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Şifre Sıfırla</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<link rel="stylesheet" href="/css/default.css">
	<link rel="stylesheet" href="/css/forms.css">
	<link rel="stylesheet" href="/css/register.css">

	<meta property="og:title" content="İTÜ Raptiye">
	<meta property="og:image" content="/img/icons/logo.svg">
	<meta property="og:description" content="İTÜ öğrencileri için satış ve ilan sitesi">
	<meta property="og:url" content="https://ituraptiye.com/">
	<meta property="og:type" content="website">
</head>

<body>
	<div id="wrapper">
		<%- include('partials/navbar') %>
			<div class="container">
				<div class="form-container p-4 shadow rounded bg-white">
					<h2 class="form-title"> Yeni Şifreni Belirle</h2>
					<form action="/refreshpassword/<%=token%>" method="post" id="myForm">
						<div class="form-group">
							<label for="exampleInputPassword1" class="form-label">Yeni Şifre</label>
							<input name="password" type="password" class="form-control" id="exampleInputPassword1"
								placeholder="Parola">
							<label for="exampleInputPassword1" class="form-label">Yeni Şifreyi Doğrula</label>
							<input name="passwordverify" type="password" class="form-control" id="exampleInputPassword2"
								placeholder="Parola">
						</div>
						<button type="submit" class="btn mt-2">Şifreyi Yenile</button>
						<p id="errorMessage" style="color: red; display: none;">Şifreler eşleşmiyor!</p>
					</form>
				</div>
			</div>

			<%- include('partials/footer') %>
	</div>

	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
	<script>
		document.getElementById("myForm").addEventListener("submit", function (event) {
		// Şifre ve onay şifresini al
		const password = document.getElementById("exampleInputPassword1").value;
		const confirmPassword = document.getElementById("exampleInputPassword2").value;
		// Hata mesajını gösterme alanı
		const errorMessage = document.getElementById("errorMessage");
		// Eşit değilse formun gönderilmesini engelle
		if (password !== confirmPassword) {
			event.preventDefault(); // Form gönderimini engelle
			errorMessage.style.display = "block"; // Hata mesajını göster
			errorMessage.textContent = "Şifreler eşleşmiyor!";
		} else {
			errorMessage.style.display = "none"; // Hata mesajını gizle
		}
		});

	</script>
</body>

</html>