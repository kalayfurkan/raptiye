<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<link rel="icon" href="/img/icons/logo.svg">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Üye ol</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<link rel="stylesheet" href="/css/default.css">
	<link rel="stylesheet" href="/css/forms.css">
	<link rel="stylesheet" href="/css/register.css">

	<meta property="og:title" content="İTÜ Raptiye">
	<meta property="og:image" content="https://ituraptiye.com/img/icons/logo.png">
	<meta property="og:description" content="İTÜ öğrencileri için satış ve ilan sitesi, kayıt ol">
	<meta property="og:url" content="https://ituraptiye.com/">
	<meta property="og:type" content="website">

	<meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' 'unsafe-inline' https://code.jquery.com https://cdn.jsdelivr.net https://stackpath.bootstrapcdn.com;
        style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://fonts.googleapis.com;
        img-src 'self' data:;
        font-src 'self' https://fonts.gstatic.com;
        connect-src 'self';
        object-src 'none';
        form-action 'self';
        upgrade-insecure-requests;
    ">
</head>

<body>
	<div id="wrapper">
		<%- include('partials/navbar') %>
			<div class="container">
				<div class="form-container p-4 shadow rounded bg-white">
					<h2 class="form-title"> Üye Olun</h2>
					<form action="/register" method="post" class="prevent-multiple-submit-form">
						<div class="form-group">
							<label for="exampleInputEmail1" class="form-label">E-posta</label>
							<input name="email" type="email" class="form-control" id="exampleInputEmail1"
								aria-describedby="emailHelp" placeholder="E-postanızı giriniz" required>
							<small id="emailHelp" class="form-text text-muted">
								Sadece @itu.edu.tr uzantılı mail adresinizle kayıt olabilirsiniz.</small>
						</div>
						<div class="form-group">
							<label for="exampleInputPassword1" class="form-label">Kullanıcı adı</label>
							<input required name="username" type="text" class="form-control" placeholder="Kullanıcı adı">
						</div>
						<div class="form-group">
							<label for="exampleInputPassword1" class="form-label">Parola</label>
							<input required name="password" type="password" class="form-control" id="exampleInputPassword1"
								placeholder="Parola">
							<small id="passwordHelp" class="form-text text-muted">Bu şifre İTÜ hesabınızdan bağımsızdır.</small>
						</div>
						<button type="submit" class="btn mt-2 prevent-multiple-submit-button">Üye ol</button>
						<small id="passwordHelp" class="form-text text-muted">itü mail sisteminden dolayı doğrulama linkinin gelmesi biraz zaman alabilir. Ayrıca bazı kullanıcılar hesap doğrulandığı halde Invalid Token yazısı aldıklarını belirtti. Bu iki sorunu çözmeye çalışıyoruz, anlayış gösterdiğiniz için teşekkür ederiz.</small>

					</form>
				</div>
				<br>
				<% if (message) { %>
					<% if (message == "basari") { %>
						<div class="alert alert-success">
							Başarıyla kayıt oldunuz <a href="https://webmail.itu.edu.tr/"> İTÜ mailinize</a> giderek hesabınızı doğrulayın.
						</div>
					<% } else { %>
						<div class="alert alert-danger"><%= message %></div>
					<% } %>
				<% } %>
				<div class="register-div">
					<a href="/login">Hesabınız var mı? Giriş yapın.</a>
				</div>
			</div>

			<%- include('partials/footer') %>
	</div>

	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

	<script defer src="/js/prevent-multiple-submit.js"></script>
    <!-- prevent-multiple-submit-form prevent-multiple-submit-button  class'ına sahip etiketlere etki eder başka bir etkisi yok-->
</body>

</html>